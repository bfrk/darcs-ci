Just "\nContext:\n\n\n[ci: explicitly specify git branch\nGanesh Sittampalam <ganesh@earth.li>**20240224183418\n Ignore-this: 1e6d4978c8c6b3b7397699ab5d8579509c0cacb4c69042eb97600965539c7b7251b196385cae3b9\n \n In case git's default has changed, or been overriden\n in local config.\n] \n\n[fix deprecated use of memcpy\nGanesh Sittampalam <ganesh@earth.li>**20240222012312\n Ignore-this: ff07cbe6162d0ebc751151c6f55a45381e6a35797d85367f0cbcf31fcf1374eb484da468717afe4c\n \n The fix is just to switch to copyBytes which is how\n memcpy is currently defined anyway.\n \n I tested this with GHC 8.4 as well as recent GHC.\n] \n\n[bump various upper bounds\nGanesh Sittampalam <ganesh@earth.li>**20240221084419\n Ignore-this: b9d059c6a177885a27c747053c0ba060f2d14259a0d782077d005384d3e31ff3b44456460fa9531c\n \n Some of them need --allow-newer to get a build plan,\n but the tests do all pass (on Linux).\n] \n\n[fix Windows build\nGanesh Sittampalam <ganesh@earth.li>**20240221011941\n Ignore-this: da161729f510a48b644f37b720933c54ee961574778f8c401d19992cedbf2ecdca6bbef24d920239\n] \n\n[fix conditionals\nGanesh Sittampalam <ganesh@earth.li>**20240217061949\n Ignore-this: 51ca163be1fef0065df8af708006530e5f0bc608245407244ca74c299cf8108c3fbe015771343bd4\n] \n\n[Support unix 2.8\nVekhir <vekhir@yahoo.com>**20240201135232\n Ignore-this: 64623b464fd91cadd7953cfdc5acce5cd8b7ed8ed959c405fc228b279fe756924e95525fe5d72739\n] \n\n[Bump dependencies for GHC 9.8\nVekhir <vekhir@yahoo.com>**20240201133453\n Ignore-this: 48e6bdb6ca996ef690ae4a0df88f363f3d7341a9a381157b033e9ecb58faba2f97e89aad38f79f30\n] \n\n[work around issue2716\nGanesh Sittampalam <ganesh@earth.li>**20240219104147\n Ignore-this: 8431be4229c6929223428f87f6601cc24ec15570153ee84addbd840d23709200c00cd4fdf8ebbbf3\n \n For now just constrain directory to <1.3.8\n] \n\n[fix Cabal warning\nGanesh Sittampalam <ganesh@earth.li>**20240219105530\n Ignore-this: b09d7fcfac47ec8a772e78dfedc4fc72de223d7e8c284a87a9249bd9e5cca007911d15ae0218a9e8\n] \n\n[remove RebaseAwareJob, StartRebaseJob, and RebaseJob\nBen Franksen <ben.franksen@online.de>**20230701134831\n Ignore-this: 48f6bcf2ca809efaeb428a03d706c025a775ed4b91783bca654c12638940b6544e3ecf5a67284455\n \n These became principally obsolete with the new rebase implementation in\n darcs-2.16, but to get rid of them required some restructuring. Reporting a\n rebase in progress should be done for every command after it has run; but we\n also updated the format when a rebase is finished. It was necessary to\n disentangle these two procedures, since updating the format should only be\n done if we are actually in a repository-modifying transaction (which in\n particular means we checked that we are allowed to modify it, see issue2650)\n so it made the most sense to do this from inside finalizeRepositoryChanges.\n \n To guard against regressions wrt editing the format file, I renamed\n writeRepoFormat to unsafeWriteRepoFormat and added a safe variant\n modifyRepoFormat that works only inside a transaction. The unsafe variant is\n only used when we create a fresh new repo and in the optimize upgrade\n command which re-creates the repository structure.\n \n The repoformat test was extended and fixed (it pretended to test the\n \"garbage\" repo with a corrupted format file but did not actually do that).\n Also added some minimal tests to check if we report the correct number of\n (remaining) suspended patches, even if the command gets cancelled.\n \n For RepoJobV1 and RepoJobV2 we failed to report rebase status and check for\n old-style rebase. This is now fixed, too.\n] \n\n[minor doc fix : \"unrecord\" -> \"unrecorded\"\nGanesh Sittampalam <ganesh@earth.li>**20240218155957\n Ignore-this: ac60eba4e2dcae30c8b0ba39606e0073357b4fa1b794bf537fda9ccae6ff23b38a314ed2bc53340d\n] \n\n[minor doc fix : \"record record\" -> \"darcs record\"\nGanesh Sittampalam <ganesh@earth.li>**20240218155933\n Ignore-this: 87db9e091aed7e922a5d02d61ef2bf2361e5dcb1469fba80f2ce5ed4abc0ab3748bff525d6e3d46d\n] \n\n[break up paragraph for clarity/readability\nGanesh Sittampalam <ganesh@earth.li>**20240218155618\n Ignore-this: a745a1d08f168767d548d19ccf96def3ad7aa8e9c5ed5b0bb91454cd644a410af84677c40d8f6c4e\n] \n\n[work around issue2715: constrain tls to <2.0.0\nGanesh Sittampalam <ganesh@earth.li>**20240218132926\n Ignore-this: b6464d5385b5bd4b41e72b581406b341437df69738c80d50b34a6445c9a34aff75a75cbc401bd038\n] \n\n[test that unrecorded changes act as conflict resolutions\nBen Franksen <ben.franksen@online.de>**20230905115227\n Ignore-this: 18308cc71b8ccdc505e637cceaceffcd5ff0d403cf06bc0805dd1376ae2e7fc39df774a92bd813d2\n] \n\n[define \"clean tag\" in help for tag command\nBen Franksen <ben.franksen@online.de>**20230829134919\n Ignore-this: 492913a4c52912e36175b21c8f985e9695698701af4d02e3c4bd531023815d29e401b47730ba665c\n] \n\n[extend help for push with explanation of --reorder-patches\nBen Franksen <ben.franksen@online.de>**20230829085851\n Ignore-this: 9441312dcd5394f03898eae2f478be3b633223772452386aefb464c9f16fbf1e248169579bf962df\n] \n\n[resolve issue2708: regard unrecorded changes as potential conflict resolutions\nBen Franksen <ben.franksen@online.de>**20230705114757\n Ignore-this: 33c3c1aaf34608b68c9e6eddb913b63648504c1764caa343cd420645159b3a4e8a338f849a1cc495\n] \n\n[rollback accidentally recorded parts of c4d15858\nBen Franksen <ben.franksen@online.de>**20230828133605\n Ignore-this: b1da2443fdf0cc8bbf5561a01665a8c8940e39bf9dbf3acb77e191cd34ef1913c2f75475e68be3fc\n] \n\n[improve commandDescription fields for optimize subcommands\nBen Franksen <ben.franksen@online.de>**20230719223248\n Ignore-this: fa475972012669a5c8d3b5bdfc21691d9bd52f61e6b5fe818be9cf5a51bf6bf4a5e3a7bb9075d36c\n \n They are now all capitalized and in some cases slightly re-worded.\n] \n\n[D.R.Job: refactor RepoJob declaration with some type synonyms\nBen Franksen <ben.franksen@online.de>**20230305122254\n Ignore-this: 18b700436209f3a00f8fde392df305427fe3e9e954d5cee6f056c8e2c899020983244f8663af1632\n] \n\n[optimize conflict resolution in tentativelyMergePatches_\nBen Franksen <ben.franksen@online.de>**20221203144623\n Ignore-this: 9dd539c89b1a25e96e0e0c4b6478af1ce90dd5ecfbe0ac904f1b77a2f6a9b4de9faddff9d44ad28a\n \n Examining patches for conflicts and then generating the markup is complex\n and scales poorly with the length of the sequence to be examined. So it\n makes sense to always choose the shorter of the two merged sequences to\n apply standardResolution on; the more so since in almost all cases occurring\n in practice the length of at least one of the two sequences is pretty short.\n However, this is only valid if the remote patches don't have unresolved\n conflicts in the first place. Detecting this condition requires another\n conflict resolution step, but one that is usually cheap because it can stop\n at the first clean tag.\n \n With this patch, pulling everything from a large repo (e.g. darcs screened)\n into an empty repository, while still not nearly as fast as a clone,\n completes in a reasonable time (and also doesn't run into darcs-2 commute\n bugs). This could be further improved by optimizing the process of updating\n the working tree which is a lot slower than updating pristine.\n] \n\n[clean up parsing and showing of CacheLoc\nBen Franksen <ben.franksen@online.de>**20221215191937\n Ignore-this: e677e63a290104cf372df9882b4e94812796e58e69fa4eebd02cbccfbd5b0bd13a98f7b808042b1\n \n It is now both in Darcs.Util.Cache and the non-standard Show instance is\n replaced by a regular function.\n] \n\n[make D.R.Prefs and its API a bit more type safe\nBen Franksen <ben.franksen@online.de>**20221209214831\n Ignore-this: dfd0e190539994253e2105e05f059e9c7170fcacb7da2e2c23c7a11b7c88697e94f50de6bf9180aa\n] \n\n[move prefsDir and prefsDirPath to D.R.Paths\nBen Franksen <ben.franksen@online.de>**20221209074840\n Ignore-this: 2e7ae73ffba0893d0127c5011f0d12eee1569411d76987bf0d5bca5ae9ba715f0c0a0494d4a823c9\n \n ...and also consequently use them in D.R.Prefs and D.UI.Cs.Help.\n] \n\n[update and extend help about conflicts\nBen Franksen <ben.franksen@online.de>**20230704185407\n Ignore-this: a5a08d23903fd9c372cbabe7d2ba1dbf2f9679719c8af454824fe87f95ac48e7179382e9c9d5c12a\n] \n\n[remove the set-default hint\nBen Franksen <ben.franksen@online.de>**20221209212607\n Ignore-this: 230d666f0c951781e12754c1423ee4fa7946e4b61e1112adea5e1e907573c547a89ac04bd6a78bf9\n \n See my comments to issue1898. It is ages ago since --set-default was the\n default for push and pull. And we really need a better way to set\n preferences such as the defaultrepo.\n] \n\n[remove the --remote-repo option\nBen Franksen <ben.franksen@online.de>**20221209182337\n Ignore-this: e15bd6698235070ad5d7ed92ee2ea41d950b40c61b75637ca9f9d135288eb462346506eb3d4c1dba\n \n Passing remote repos via option instead of plain arguments is redundant,\n obscure, and complicates the code.\n] \n\n[drop outdated constraint for aeson\nBen Franksen <ben.franksen@online.de>**20230824071934\n Ignore-this: fadf0fa21afc5e7635ca938883907a8cf2bc0d99ef55bea348323419f4f03b8926059d74949a9ddc\n] \n\n[push: pass through options to apply in all cases\nBen Franksen <ben.franksen@online.de>**20230820152928\n Ignore-this: 7084d2d97abf0c743bcf60213c4b4b5286ff9da85e9f75147de66410b25c0421f8dde24a1d36cbc8\n \n We previously did not pass --debug and --reorder-patches when we had\n --apply-as in effect. This patch includes a bit of refactoring to unify the\n 4 different ways we execute the \"remote\" darcs apply, depending on whether\n the remote repo is a ssh URL and whether we apply via sudo for --apply-as.\n] \n\n[add --reorder-patches option to push\nBen Franksen <ben.franksen@online.de>**20230820125844\n Ignore-this: 4255941b37fa70304f0db80d7002cce73dc684fa4763173f0db4e5cf592aa42ba09e860567756209\n \n It was already supported for apply, so all we need to do is pass it through\n to the remote apply command.\n] \n\n[fix logical bug in call to applyPatchesFinish\nBen Franksen <ben.franksen@online.de>**20230823094211\n Ignore-this: 421419cf98caba38288b706e18a1df2a2a5ee20d2a6240a9068fdf176e27116388a490981fabf705\n \n This affects only the \"finished\" messages.\n] \n\n[harness: eliminate class HasDefault\nBen Franksen <ben.franksen@online.de>**20230812112810\n Ignore-this: fa16cd86070fc31f6dd55e5c8a33ea32df4e9c9083663e181236c58cb19f3929275a870ae491f960\n] \n\n[Use property instead of comments about coverage\nGanesh Sittampalam <ganesh@earth.li>**20230811213005\n Ignore-this: 7056eeb5dba86009346c5016e4c75b08f3dc92fc6b94520b4e6b01142787b064b3abef658a3709c4\n \n It was unclear how to actually do the coverage check\n referred to in the comments.\n \n The most important part of the comment was about\n commutability which ensures that we get useful\n pairs of patches. This has been replaced with an\n an actual test that uses QuickCheck's coverage\n infrastructure. It also checks that some of the\n commutable pairs change representation when\n commuted.\n \n The other items were mainly about the actual\n patch contents, which is less likely to be broken\n accidentally, and is also harder to check in a\n generic way.\n] \n\n[drop unused HasDefault constraint\nGanesh Sittampalam <ganesh@earth.li>**20230811083612\n Ignore-this: d2dcc1e4f0b3efb209c8f6ce81cde25f989348663e8cb174164e0772070ca971259d0c41c3591285\n] \n\n[support short options in defaults files\nBen Franksen <ben.franksen@online.de>**20230707071002\n Ignore-this: eb247430701a3d787956b90b6f12601c02c97c265589c732b6f0f26c8df4c6205d131776719f660f\n \n So you can say e.g. 'whatsnew -l' in a defaults file. This makes it more or\n less necessary to display options in error and warning messages in full i.e.\n with leading dashes, so we make this change, too. Note that leaving out the\n two dashes for a long option remains allowed in a defaults file, but for\n short options the leading dash is mandatory.\n] \n\n[improve help for --look-for-adds/--boring\nBen Franksen <ben.franksen@online.de>**20230730144706\n Ignore-this: e1fe5f98c28b7de1782cbed7e03f73a518f0adf7bf10f988dd2d0d41449331f63efbed2b48afc746\n] \n\n[distinguish between option errors and warnings\nBen Franksen <ben.franksen@online.de>**20230707070357\n Ignore-this: 2efd54578ddab4c9bd6b788f90192a29fdaa990ffcc11508644f9f62ee662524976f05355ca8bc4\n \n The goal here is to strike a balance between being too restrictive (which\n impairs forward compatibility) and too lax (causing ambiguous behavior). For\n instance, an unrecognized option or an extra argument where none is expected\n can be safely ignored in default files, which is good in case we decide to\n add the option or argument later. OTOH, if we allow conflicting options we\n have to make an arbitrary choice which one wins, so we want to be more\n strict here; neither do we want want to allow an option that is missing a\n required argument.\n] \n\n[make --boring mutually exclusive with --look-for-adds if both are supported\nBen Franksen <ben.franksen@online.de>**20230706073439\n Ignore-this: 4ef7c04891367b37150915aa7df01ed9987e674b4c387ba7a2a336b4e6fde96e93c7c0581913598\n \n This means that --boring now implies --look-for-adds i.e. you no longer have\n to list both options for --boring to have any effect. This better mirrors\n how these options are treated internally and IMO removes a wart in the UI.\n Note that the add command is not affected by this.\n] \n\n[allow a few more tests to run on Windows\nBen Franksen <ben.franksen@online.de>**20230715180009\n Ignore-this: bfc6df6c28adc33ebacc98d740a18f9738280ce5c5cb0cd737552e88c9f5b828e802133b322c63d7\n \n In some cases test scripts were adapted to make them more portable, in other\n cases where testing on Windows makes no sense, explanations were added. This\n patch also includes some cleanups and simplifications for the affected\n tests; for instance, we can use the printenv command to simplify testing\n that posthooks get the proper environment.\n] \n\n[RepoPatchV3: use monadic style everywhere in commuteNoConflicts\nBen Franksen <ben.franksen@online.de>**20230703205936\n Ignore-this: 697e59fd1ba8add7477634ecc1bfb382987c0f5ec7089800155751ea420f745bb536c362f3331b85\n] \n\n[RepoPatchV3 refactor commuteNoConflicts case for two conflictors\nBen Franksen <ben.franksen@online.de>**20230703210252\n Ignore-this: 5e3c0eb6bed6363e219cfdda225a02339fd99b6bc462694fd0eb086962d605e079b27d7dabc90201\n \n The code now mirrors the corresponding case in cleanMerge exactly.\n] \n\n[RepoPatchV3: rename a local variable in commuteConflicting\nBen Franksen <ben.franksen@online.de>**20230723071935\n Ignore-this: e334815735c19557668dfa2cb2f34e7b0c443a8b7c65f3c18e352450ea4d0e6d4543eb984ca935e0\n] \n\n[minor code layout changes in V3.Core\nBen Franksen <ben.franksen@online.de>**20230618162101\n Ignore-this: eeab3dccd29131bc77fb03593b926b222a56ca800067885d6fcab956a72eb4edc7830499af42cbaf\n] \n\n[add proofs of impossibility for all error cases in V3.Core\nBen Franksen <ben.franksen@online.de>**20230608220735\n Ignore-this: d169f908b97d5c93e307ada852f09fa5ef447c256391d09a0b6c5abafac747cf509722db69ffdef6\n] \n\n[TAG 2.17.3\nBen Franksen <ben.franksen@online.de>**20230820124449\n Ignore-this: 590fd10b16d03bb5419ba53d1b9e0fa58e72cb73edd9d88acf85260848dd091f90e781d2e0574daa\n] \n"